<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="Home - Turtle Hatcheries in Sri Lanka">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy Tickets - Turtle Hatcheries in Sri Lanka</title>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
</head>
<body> 
    <div class="header">
        <div class="bentota-bimg">
            <img src="home/background.jpg" alt="ttl">
        </div> 
          <ul>
            <li class="logo-link"><a href="index.html"><img src="home/logo4.png" alt="the logo" width="250px"></a></li>
            <div class="navlink">
            <li><a href="index.html"> <b>Home</b></a></li>
            <li class="dropdown">
                <a href="#visit"> <b>Visit</b></a>
              <div class="dropdown-content">
                <a href="hikkaduwa.html">Hikkaduwa</a>
                <a href="bentota.html">Bentota</a>
                <a href="kosgoda.html">Kosgoda</a>
              </div>
            </li>
              <li><a href="turtles.html"><b>Turtles</b></a></li>
              <li><a href="threats & conservation.html"><b>Threats & Conservation</b></a></li> 
              <li><a href="donate.html"><b>Donate & Purchase</b></a></li>
              </div>
          </ul>
<br>
<hr>
<br>
<a href="#" class="float">
    <i class="material-icons my-float" style="font-size: 30px;">arrow_upward</i>
    </a>

    <div id="ticket-background">
        <div class="booking-panal">
            <div class="booking-panal-grid-left">
                <div class="payment-box">
                <h2>Payment Details</h2>
                <form id="paymentForm">
                    <label for="cardNumber">Card Number:</label>
                    <input type="text" id="cardNumber" required><br>
            
                    <label for="expiryDate">Expiry Date:</label>
                    <input type="text" id="expiryDate" required  minlength="4" maxlength="4">
            
                    <label for="cvc">CVC/CVV Number:</label>
                    <input type="text" id="cvc" required  minlength="3" maxlength="3"><br>
            
                    <label for="nameOnCard">Name on the Card:</label>
                    <input type="text" id="nameOnCard" required><br><br>
            
                    <button class="button-payment" type="submit"><div class="pay-grid">
                        <div><h3>Pay &nbsp;</h3></div>
                        <div><h3 class="pay-button">$ 0</h3></div>
                    </div>
                </button>
                </form>
            </div>
            </div>
               
            <div class="booking-panal-grid-right">
               
                <table border="0px" >
                    <tr>
                        <th> <h2>Summary</h2></th>
                    </tr>
                    <tr>
                        <td>Location</td>
                        <td><p class="location-sumy">None</p></td>
                    </tr>
                    <tr>
                        <td>Date :</td>
                        <td><p class="date-sumy">YYYY-MM-DD</p></td>
                    </tr>
                    <tr>
                        <td>Time :</td>
                        <td><p class="time-sumy">00:00 to 00:00</p></td>
                    </tr>
                    <tr>
                        <td>Duration :</td>
                        <td><p class="duration-sumy">Duration : 0 hours (Normal : 0 / Peak : 0)</p></td>
                    </tr>
                    <tr>
                        <th>Tickets</th>
                        <th class="tk-sum">Charges</th>
                    </tr>
                    <tr>
                        <td>SL Adult : <p class="SL-adult-count"></p></td>
                        <td class="tk-sum"><p class="SL-adult">$ 0</p></td>
                    </tr>
                    <tr>
                        <td>SL Child : <p class="SL-child-count"></p></td>
                        <td class="tk-sum"><p class="SL-child">$ 0</p></td>
                    </tr>
                    <tr>
                        <td>Foreigner Adult : <p class="F-adult-count"></p></td>
                        <td class="tk-sum"><p class="F-adult">$ 0</p></td>
                    </tr>
                    <tr>
                        <td>Foreigner Child : <p class="F-child-count"></p></td>
                        <td class="tk-sum"><p class="F-child">$ 0</p></td>
                    </tr>
                    <tr>
                        <td>Infant : <p class="infant-count"></p></td>
                        <td class="tk-sum"><p class="infant">$ 0</p></td>
                    </tr>
                    <tr>
                        <td><b>Total :</b></td>
                        <td class="tk-sum"><h3 class="tkt-tot"><b>$ 0</b></h3></td>
                    </tr>
                </table>
        
            </div> 
        </div>
        </div>
        
    <br>
    <hr>
    <br>
    <footer>
        <div class="footer-logo">
        <img src="home/logo4.png" alt="logo">
    </div>
    <div class="footer-links">
        <h3>QUICK LINKS</h3>
        <a href="index.html">Home</a><br>
        <a href="index.html#visit">Visit</a><br>
        <a href="turtles.html">Turtle</a><br>
        <a href="threats & conservation.html">Threats & Conservation</a><br>
        <a href="donate.html">Donate & Purchase</a>
    </div>
    </footer>

    <script>
     
        function updateSummaryTable() {
           
            const selectedLocation = localStorage.getItem("selectedLocation") || 'None';
            const selectedDate = localStorage.getItem("selectedDate") || 'YYYY-MM-DD';
            const selectedTime = localStorage.getItem("selectedTime") || '00:00 to 00:00';
            const selectedDuration = localStorage.getItem("selectedDuration") || 'Duration : 0 hours (Normal : 0 / Peak : 0)';
            const SLAdultCount = localStorage.getItem("SLAdultCount") || 0;
            const SLChildCount = localStorage.getItem("SLChildCount") || 0;
            const FAdultCount = localStorage.getItem("FAdultCount") || 0;
            const FChildCount = localStorage.getItem("FChildCount") || 0;
            const InfantCount = localStorage.getItem("InfantCount") || 0;
            const SLadulttkt = localStorage.getItem("SL-adult") ||  0;
            const SLchildtkt = localStorage.getItem("SL-child") ||  0;
            const Fadulttkt = localStorage.getItem("F-adult") ||  0;
            const Fchildtkt = localStorage.getItem("F-child") ||  0;
            const Infanttkt = localStorage.getItem("infant") ||  0;
            const totaltkt = localStorage.getItem("tkt-tot") || 0;
          
    
            document.querySelector('.location-sumy').textContent = selectedLocation;
            document.querySelector('.date-sumy').textContent = selectedDate;
            document.querySelector('.time-sumy').textContent = selectedTime;
            document.querySelector('.duration-sumy').textContent = selectedDuration;
            document.querySelector('.SL-adult-count').textContent = SLAdultCount;
            document.querySelector('.SL-child-count').textContent = SLChildCount;
            document.querySelector('.F-adult-count').textContent = FAdultCount;
            document.querySelector('.F-child-count').textContent = FChildCount;
            document.querySelector('.infant-count').textContent = InfantCount;
            document.querySelector('.SL-adult').textContent = SLadulttkt;
            document.querySelector('.SL-child').textContent = SLchildtkt;
            document.querySelector('.F-adult').textContent = Fadulttkt;
            document.querySelector('.F-child').textContent = Fchildtkt;
            document.querySelector('.infant').textContent = Infanttkt;
            document.querySelector('.tkt-tot').textContent = totaltkt;
            document.querySelector('.pay-button').textContent = totaltkt;
        }
    

        document.addEventListener("DOMContentLoaded", updateSummaryTable);

        document.addEventListener("DOMContentLoaded", () => {
   
});

const paymentForm = document.getElementById("paymentForm");

paymentForm.addEventListener("submit", function(event) {
    event.preventDefault();

    const cardNumber = document.getElementById("cardNumber").value;
    const expiryDate = document.getElementById("expiryDate").value;
    const cvc = document.getElementById("cvc").value;
    const nameOnCard = document.getElementById("nameOnCard").value;

    if (cardNumber.length < 16 || cardNumber.length > 16) {
        alert("Incomplete field: Card Number should be at least 16 digits.");
        return;
    }

    const currentDate = new Date();
    const enteredExpiryDate = new Date(`20${expiryDate.slice(2, 4)}`, expiryDate.slice(0, 2) - 1, 1);
    if (enteredExpiryDate < currentDate) {
        alert("Card has expired.");
        return;
    }

    if (!/^\d+$/.test(expiryDate)) {
                alert("Input numbers only: Expiry Date should contain only numbers.");
                return;
    }

     if (!/^\d+$/.test(cvc)) {
        alert("Input numbers only: CVC/CVV should contain only numbers.");
         return;
    }       
 
    if (/\d/.test(nameOnCard)) {
        alert("Invalid characters: Name on Card should not contain numbers.");
        return;
    }

    // Rest of your code to save data and redirect
    localStorage.setItem("cardNumber", cardNumber);
    localStorage.setItem("expiryDate", expiryDate);
    localStorage.setItem("cvc", cvc);
    localStorage.setItem("nameOnCard", nameOnCard);

        console.log("Card Number: ", cardNumber);
        console.log("Expiry Date: ", expiryDate);
        console.log("CVC/CVV Number: ", cvc);
        console.log("Name on Card: ", nameOnCard);


    window.location.href = "confirmation.html";
});

    </script>
    </body>
</html>
